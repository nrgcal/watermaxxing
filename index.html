<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Watermaxxing</title>
</head>
<body style="margin:0; padding:0;">


<!-- ═══════════════════════════════════════════════════════════════════════════
     WATERMAXXING.COM - DIGITAL BUSINESS CARD v3
     VAPORWAVE/SYNTHWAVE EDITION - WITH SLIDE-UP GAME
     Width: 100% | Height: 4200px
═══════════════════════════════════════════════════════════════════════════ -->

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">

<style>
@keyframes neonPulse {
  0%, 100% { text-shadow: 0 0 10px #ff00ff, 0 0 20px #ff00ff, 0 0 40px #ff00ff; }
  50% { text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff, 0 0 20px #ff00ff; }
}
@keyframes borderGlow {
  0%, 100% { box-shadow: 0 0 15px rgba(255,0,255,0.5), inset 0 0 15px rgba(255,0,255,0.1); }
  50% { box-shadow: 0 0 25px rgba(255,0,255,0.8), inset 0 0 25px rgba(255,0,255,0.2); }
}
@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-15px) rotate(2deg); }
}
@keyframes orbFloat {
  0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.6; }
  25% { transform: translate(40px, -30px) scale(1.1); opacity: 0.8; }
  50% { transform: translate(-20px, -50px) scale(0.9); opacity: 0.5; }
  75% { transform: translate(-40px, -20px) scale(1.05); opacity: 0.7; }
}
@keyframes orbFloat2 {
  0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.5; }
  33% { transform: translate(-50px, 30px) scale(1.15); opacity: 0.7; }
  66% { transform: translate(30px, -40px) scale(0.85); opacity: 0.4; }
}
@keyframes scanMove {
  0% { top: -10%; }
  100% { top: 110%; }
}
@keyframes statusPulse {
  0%, 100% { opacity: 1; box-shadow: 0 0 12px #00ff88; }
  50% { opacity: 0.5; box-shadow: 0 0 6px #00ff88; }
}
@keyframes glitch {
  0%, 90%, 100% { transform: translate(0); }
  92% { transform: translate(-2px, 1px); }
  94% { transform: translate(2px, -1px); }
  96% { transform: translate(-1px, -1px); }
  98% { transform: translate(1px, 1px); }
}
@keyframes starTwinkle {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.5); }
}
@keyframes ringPulse {
  0%, 100% { transform: scale(1); opacity: 0.3; }
  50% { transform: scale(1.1); opacity: 0.6; }
}
@keyframes slideUp {
  0% { transform: translateY(100%); }
  100% { transform: translateY(0); }
}
@keyframes slideDown {
  0% { transform: translateY(0); }
  100% { transform: translateY(100%); }
}
.neon-text { animation: neonPulse 2s ease-in-out infinite; }
.float { animation: float 6s ease-in-out infinite; }
.glow-border { animation: borderGlow 3s ease-in-out infinite; }
.status-dot { animation: statusPulse 2s ease-in-out infinite; }
.glitch { animation: glitch 3s ease-in-out infinite; }
.orb1 { animation: orbFloat 20s ease-in-out infinite; }
.orb2 { animation: orbFloat2 25s ease-in-out infinite; }
.star { animation: starTwinkle 2s ease-in-out infinite; }
.ring { animation: ringPulse 4s ease-in-out infinite; }
.game-slide-up { animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
.game-slide-down { animation: slideDown 0.3s ease-in forwards; }
</style>

<div style="font-family: 'Inter', -apple-system, sans-serif; line-height: 1.5; background: #0d0221; color: #fff; max-width: 100%; margin: 0; padding: 0; overflow-x: hidden;">

<!-- === HERO === -->
<div style="padding: 3rem 1.5rem 2rem; background: linear-gradient(180deg, #0d0221 0%, #1a0a2e 40%, #16082a 100%); position: relative; overflow: hidden; min-height: 480px;">
  
  <!-- Animated scanline -->
  <div style="position: absolute; top: -10%; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, transparent, rgba(255,0,255,0.5), transparent); animation: scanMove 4s linear infinite; pointer-events: none; z-index: 15;"></div>
  
  <!-- CRT scanline overlay -->
  <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.15) 2px, rgba(0,0,0,0.15) 4px); pointer-events: none; z-index: 12;"></div>
  
  <!-- Animated grid floor -->
  <div style="position: absolute; bottom: 0; left: -100%; right: -100%; height: 60%; background-image: linear-gradient(rgba(255,0,255,0.15) 1px, transparent 1px), linear-gradient(90deg, rgba(255,0,255,0.15) 1px, transparent 1px); background-size: 50px 50px; transform: perspective(500px) rotateX(60deg); pointer-events: none; opacity: 0.4;"></div>
  
  <!-- Floating orbs -->
  <div class="orb1" style="position: absolute; top: 5%; left: -15%; width: 350px; height: 350px; background: radial-gradient(circle, rgba(255,0,255,0.3) 0%, transparent 60%); border-radius: 50%; filter: blur(50px); pointer-events: none;"></div>
  <div class="orb2" style="position: absolute; top: 15%; right: -20%; width: 400px; height: 400px; background: radial-gradient(circle, rgba(0,255,255,0.2) 0%, transparent 60%); border-radius: 50%; filter: blur(60px); pointer-events: none;"></div>
  <div class="orb1" style="position: absolute; bottom: 20%; left: 10%; width: 200px; height: 200px; background: radial-gradient(circle, rgba(255,0,255,0.15) 0%, transparent 70%); border-radius: 50%; filter: blur(40px); pointer-events: none;"></div>
  
  <!-- Stars -->
  <div class="star" style="position: absolute; top: 12%; left: 15%; width: 3px; height: 3px; background: #fff; border-radius: 50%; box-shadow: 0 0 6px #fff;"></div>
  <div class="star" style="position: absolute; top: 25%; right: 20%; width: 2px; height: 2px; background: #00ffff; border-radius: 50%; box-shadow: 0 0 8px #00ffff; animation-delay: 0.5s;"></div>
  <div class="star" style="position: absolute; top: 8%; right: 30%; width: 2px; height: 2px; background: #ff00ff; border-radius: 50%; box-shadow: 0 0 6px #ff00ff; animation-delay: 1s;"></div>
  <div class="star" style="position: absolute; top: 35%; left: 8%; width: 2px; height: 2px; background: #fff; border-radius: 50%; box-shadow: 0 0 4px #fff; animation-delay: 1.5s;"></div>
  
  <div style="max-width: 420px; margin: 0 auto; position: relative; z-index: 5;">
    
    <!-- Logo/Brand -->
    <div class="glitch" style="text-align: center; margin-bottom: 1.5rem;">
      <div style="font-family: 'Orbitron', sans-serif; font-size: 1.375rem; font-weight: 800; letter-spacing: 0.1em; text-transform: uppercase; color: #ff00ff;" class="neon-text">
        watermaxxing
      </div>
      <div style="font-family: 'JetBrains Mono', monospace; font-size: 9px; letter-spacing: 0.5em; text-transform: uppercase; color: rgba(255,255,255,0.25); margin-top: 3px;">.com</div>
    </div>
    
    <!-- Large Avatar with rings -->
    <div class="float" style="text-align: center; margin-bottom: 1.25rem;">
      <div style="position: relative; display: inline-block;">
        <div class="ring" style="position: absolute; top: -12px; left: -12px; right: -12px; bottom: -12px; border: 2px solid rgba(255,0,255,0.3); border-radius: 50%;"></div>
        <div class="ring" style="position: absolute; top: -6px; left: -6px; right: -6px; bottom: -6px; border: 1px solid rgba(0,255,255,0.4); border-radius: 50%; animation-delay: 0.5s;"></div>
        <img src="https://ugc.production.linktr.ee/5dad016f-c443-42e7-8c23-c6d49785ae72_IMG-0940.jpeg?io=true&size=avatar-v3_0" alt="Barron Sawyer" style="width: 130px; height: 130px; border-radius: 50%; object-fit: cover; border: 3px solid #ff00ff; box-shadow: 0 0 40px rgba(255,0,255,0.6), 0 0 80px rgba(255,0,255,0.3), inset 0 0 30px rgba(255,0,255,0.1);">
        <div class="status-dot" style="position: absolute; bottom: 8px; right: 8px; width: 22px; height: 22px; background: #00ff88; border-radius: 50%; border: 4px solid #0d0221;"></div>
      </div>
    </div>
    
    <!-- Name & Bio -->
    <div style="text-align: center; margin-bottom: 1.5rem;">
      <h1 style="font-family: 'Orbitron', sans-serif; font-size: 1.375rem; font-weight: 700; color: #fff; margin: 0 0 0.625rem 0;">Barron Sawyer, JD</h1>
      <p style="font-family: 'JetBrains Mono', monospace; font-size: 11px; color: rgba(255,255,255,0.55); line-height: 1.7; margin: 0; padding: 0 1rem;">
        water treatment solutions that hold up irl<br>
        <span style="color: #00ffff;">full wtp & wwtp delivery</span> · 450+ mobile fleet · westech · since 1973
      </p>
    </div>
    
    <!-- Social Icons Row -->
    <div style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; margin-bottom: 2rem;">
      <a href="tel:8012905565" style="display: flex; align-items: center; justify-content: center; width: 46px; height: 46px; background: rgba(255,0,255,0.15); border: 1px solid rgba(255,0,255,0.4); border-radius: 50%; color: #ff00ff; text-decoration: none;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
      </a>
      <a href="https://x.com/bsawyer" target="_blank" style="display: flex; align-items: center; justify-content: center; width: 46px; height: 46px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.15); border-radius: 50%; color: #fff; text-decoration: none;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
      </a>
      <a href="https://instagram.com/bearsaw" target="_blank" style="display: flex; align-items: center; justify-content: center; width: 46px; height: 46px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.15); border-radius: 50%; color: #fff; text-decoration: none;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="5"/><circle cx="12" cy="12" r="4"/><circle cx="18" cy="6" r="1.5" fill="currentColor"/></svg>
      </a>
      <a href="https://twitch.tv/barronsawyer" target="_blank" style="display: flex; align-items: center; justify-content: center; width: 46px; height: 46px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.15); border-radius: 50%; color: #fff; text-decoration: none;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"/></svg>
      </a>
      <a href="https://www.linkedin.com/in/sawyerlaw/" target="_blank" style="display: flex; align-items: center; justify-content: center; width: 46px; height: 46px; background: rgba(0,255,255,0.15); border: 1px solid rgba(0,255,255,0.4); border-radius: 50%; color: #00ffff; text-decoration: none;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg>
      </a>
      <a href="https://www.threads.com/bearsaw" target="_blank" style="display: flex; align-items: center; justify-content: center; width: 46px; height: 46px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.15); border-radius: 50%; color: #fff; text-decoration: none;">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.59 12c.025 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.96-.065-1.182.408-2.256 1.33-3.022.88-.73 2.082-1.146 3.39-1.17 1.016-.02 1.97.14 2.849.476-.03-.986-.18-1.79-.45-2.404-.387-.882-1.065-1.325-2.073-1.357-1.521-.047-2.404.655-2.62 2.082l-2.032-.309c.34-2.334 2.074-3.643 4.608-3.593 1.634.032 2.893.674 3.638 1.855.547.866.84 1.97.898 3.375.535.212 1.02.47 1.453.772 1.133.79 1.948 1.86 2.366 3.105.603 1.796.506 4.396-1.673 6.527-1.87 1.826-4.215 2.64-7.378 2.664z"/></svg>
      </a>
    </div>
    
  </div>
</div>

<!-- === BOOKING SECTION === -->
<div style="padding: 0 1.5rem 2rem; background: linear-gradient(180deg, #16082a 0%, #0d0221 100%);">
  <div style="max-width: 420px; margin: 0 auto;">
    
    <div style="font-family: 'JetBrains Mono', monospace; font-size: 9px; letter-spacing: 0.25em; text-transform: uppercase; color: rgba(255,255,255,0.3); margin-bottom: 12px; text-align: center;">// book a meeting</div>
    
    <div style="display: flex; flex-direction: column; gap: 10px;">
      
      <a href="https://calendly.com/bsaw" target="_blank" class="glow-border" style="display: flex; align-items: center; gap: 14px; padding: 16px 18px; background: linear-gradient(135deg, rgba(255,0,255,0.25), rgba(255,0,255,0.1)); border: 1px solid rgba(255,0,255,0.5); border-radius: 14px; text-decoration: none; color: #fff;">
        <div style="width: 44px; height: 44px; background: linear-gradient(135deg, #ff00ff, #cc00cc); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><path d="M16 2v4M8 2v4M3 10h18"/><circle cx="12" cy="15" r="2"/></svg>
        </div>
        <div style="flex: 1;">
          <div style="font-family: 'Orbitron', sans-serif; font-size: 14px; font-weight: 600;">Book a Meeting</div>
          <div style="font-family: 'JetBrains Mono', monospace; font-size: 10px; color: rgba(255,255,255,0.5);">calendly · works with everything</div>
        </div>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.5)" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </a>
      
      <a href="https://outlook.office.com/bookwithme/user/bsawyer@westechwater.com" target="_blank" style="display: flex; align-items: center; gap: 14px; padding: 16px 18px; background: rgba(0,255,255,0.08); border: 1px solid rgba(0,255,255,0.25); border-radius: 14px; text-decoration: none; color: #fff;">
        <div style="width: 44px; height: 44px; background: rgba(0,255,255,0.15); border: 1px solid rgba(0,255,255,0.4); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#00ffff" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><path d="M16 2v4M8 2v4M3 10h18M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01"/></svg>
        </div>
        <div style="flex: 1;">
          <div style="font-family: 'Orbitron', sans-serif; font-size: 14px; font-weight: 600;">Book via Outlook</div>
          <div style="font-family: 'JetBrains Mono', monospace; font-size: 10px; color: rgba(255,255,255,0.5);">microsoft 365 · enterprise</div>
        </div>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </a>
      
    </div>
    
  </div>
</div>

<!-- === CONTACT LINKS === -->
<div style="padding: 0 1.5rem 2rem; background: #0d0221;">
  <div style="max-width: 420px; margin: 0 auto;">
    
    <div style="display: flex; flex-direction: column; gap: 10px;">
      
      <a href="/cdn-cgi/l/email-protection#62001103151b0710221507111607010a15031607104c010d0f" style="display: flex; align-items: center; gap: 14px; padding: 16px 18px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 14px; text-decoration: none; color: #fff;">
        <div style="width: 44px; height: 44px; background: rgba(255,0,255,0.1); border: 1px solid rgba(255,0,255,0.3); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#ff00ff" stroke-width="2"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M22 6l-10 7L2 6"/></svg>
        </div>
        <div style="flex: 1;">
          <div style="font-family: 'Orbitron', sans-serif; font-size: 14px; font-weight: 600;">Send a Note</div>
          <div style="font-family: 'JetBrains Mono', monospace; font-size: 10px; color: rgba(255,255,255,0.5);">direct to inbox</div>
        </div>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </a>
      
      <a href="https://teams.microsoft.com/l/chat/0/0?users=bsawyer@westechwater.com" target="_blank" style="display: flex; align-items: center; gap: 14px; padding: 16px 18px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 14px; text-decoration: none; color: #fff;">
        <div style="width: 44px; height: 44px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.15); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/><path d="M8 10h8M8 14h4"/></svg>
        </div>
        <div style="flex: 1;">
          <div style="font-family: 'Orbitron', sans-serif; font-size: 14px; font-weight: 600;">Message via Teams</div>
          <div style="font-family: 'JetBrains Mono', monospace; font-size: 10px; color: rgba(255,255,255,0.5);">instant chat</div>
        </div>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </a>
      
      <a href="https://www.linkedin.com/in/sawyerlaw/" target="_blank" style="display: flex; align-items: center; gap: 14px; padding: 16px 18px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 14px; text-decoration: none; color: #fff;">
        <div style="width: 44px; height: 44px; background: rgba(0,255,255,0.1); border: 1px solid rgba(0,255,255,0.3); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#00ffff"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg>
        </div>
        <div style="flex: 1;">
          <div style="font-family: 'Orbitron', sans-serif; font-size: 14px; font-weight: 600;">View LinkedIn Profile</div>
          <div style="font-family: 'JetBrains Mono', monospace; font-size: 10px; color: rgba(255,255,255,0.5);">#1 american water treatment pro on social</div>
        </div>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </a>
      
      <a href="https://x.com/bsawyer" target="_blank" style="display: flex; align-items: center; gap: 14px; padding: 16px 18px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 14px; text-decoration: none; color: #fff;">
        <div style="width: 44px; height: 44px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.15); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="#fff"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
        </div>
        <div style="flex: 1;">
          <div style="font-family: 'Orbitron', sans-serif; font-size: 14px; font-weight: 600;">@bsawyer</div>
          <div style="font-family: 'JetBrains Mono', monospace; font-size: 10px; color: rgba(255,255,255,0.5);">thoughts & threads</div>
        </div>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
      </a>
      
    </div>
    
  </div>
</div>

<!-- === ARTICLES === -->
<div style="padding: 2rem 1.5rem; background: linear-gradient(180deg, #0d0221, #1a0533);">
  <div style="max-width: 420px; margin: 0 auto;">
    
    <div style="font-family: 'JetBrains Mono', monospace; font-size: 9px; letter-spacing: 0.25em; text-transform: uppercase; color: rgba(255,255,255,0.3); margin-bottom: 12px; text-align: center;">.:: Articles, Etc. ::.</div>
    
    <div style="display: flex; flex-direction: column; gap: 8px;">
      
      <a href="https://www.linkedin.com/pulse/why-so-many-industries-outsourcing-water-operations-us-sawyer-jd-tbrfc" target="_blank" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; text-decoration: none; color: #fff;">
        <div style="width: 40px; height: 40px; border-radius: 8px; background: rgba(0,255,255,0.1); border: 1px solid rgba(0,255,255,0.3); display: flex; align-items: center; justify-content: center;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#00ffff" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
        </div>
        <div style="flex: 1; min-width: 0;"><div style="font-size: 13px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Why Industries Outsource Water Ops</div></div>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7v10"/></svg>
      </a>
      
      <a href="https://www.linkedin.com/pulse/why-transfer-water-treatment-assets-westech-now-barron-sawyer-jd-t03zc" target="_blank" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; text-decoration: none; color: #fff;">
        <div style="width: 40px; height: 40px; border-radius: 8px; background: rgba(255,0,255,0.1); border: 1px solid rgba(255,0,255,0.3); display: flex; align-items: center; justify-content: center;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#ff00ff" stroke-width="2"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>
        </div>
        <div style="flex: 1; min-width: 0;"><div style="font-size: 13px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Why Transfer Assets to WesTech</div></div>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7v10"/></svg>
      </a>
      
      <a href="https://www.linkedin.com/pulse/why-gallons-megawatts-emerging-growth-filter-barron-sawyer-lriqc" target="_blank" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; text-decoration: none; color: #fff;">
        <div style="width: 40px; height: 40px; border-radius: 8px; background: rgba(0,255,255,0.1); border: 1px solid rgba(0,255,255,0.3); display: flex; align-items: center; justify-content: center;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#00ffff" stroke-width="2"><rect x="2" y="2" width="20" height="8" rx="2"/><rect x="2" y="14" width="20" height="8" rx="2"/><path d="M6 6h.01M6 18h.01"/></svg>
        </div>
        <div style="flex: 1; min-width: 0;"><div style="font-size: 13px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Data Centers × Water</div></div>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7v10"/></svg>
      </a>
      
      <a href="https://www.linkedin.com/pulse/future-selenium-nitrate-removal-mining-ebr-explained-sawyer-jd-5yvwc" target="_blank" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; text-decoration: none; color: #fff;">
        <div style="width: 40px; height: 40px; border-radius: 8px; background: rgba(255,0,255,0.1); border: 1px solid rgba(255,0,255,0.3); display: flex; align-items: center; justify-content: center;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#ff00ff" stroke-width="2"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2M12 19v3"/></svg>
        </div>
        <div style="flex: 1; min-width: 0;"><div style="font-size: 13px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Interview: EBR System for Selenium</div></div>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7v10"/></svg>
      </a>
      
      <a href="https://www.linkedin.com/pulse/barron-sawyer-07-water-treatment-heart-americas-barron-sawyer-jd-i3sxc/" target="_blank" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; text-decoration: none; color: #fff;">
        <div style="width: 40px; height: 40px; border-radius: 8px; background: rgba(0,255,255,0.1); border: 1px solid rgba(0,255,255,0.3); display: flex; align-items: center; justify-content: center;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#00ffff" stroke-width="2"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 9 3 12 0v-5"/></svg>
        </div>
        <div style="flex: 1; min-width: 0;"><div style="font-size: 13px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">UCLA Alumni Feature</div></div>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7v10"/></svg>
      </a>
      
      <a href="https://www.linkedin.com/pulse/zion-shores-surf-park-southern-utah-barron-sawyer-wjwdc" target="_blank" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.08); border-radius: 12px; text-decoration: none; color: #fff;">
        <div style="width: 40px; height: 40px; border-radius: 8px; background: rgba(255,0,255,0.1); border: 1px solid rgba(255,0,255,0.3); display: flex; align-items: center; justify-content: center;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#ff00ff" stroke-width="2"><path d="M2 12c2-2 4-3 6-3s4 2 6 2 4-2 6-2"/><path d="M2 16c2-2 4-3 6-3s4 2 6 2 4-2 6-2"/><path d="M2 20c2-2 4-3 6-3s4 2 6 2 4-2 6-2"/></svg>
        </div>
        <div style="flex: 1; min-width: 0;"><div style="font-size: 13px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Project: Surf Park Water Treatment</div></div>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7v10"/></svg>
      </a>
      
      <a href="https://www.linkedin.com/posts/sawyerlaw_24-hours-to-hit-qatars-desert-no-heads-upjust-activity-7303395187764998146-BgKH" target="_blank" style="display: flex; align-items: center; gap: 12px; padding: 14px 16px; background: rgba(0,255,255,0.05); border: 1px solid rgba(0,255,255,0.15); border-radius: 12px; text-decoration: none; color: #fff;">
        <div style="width: 40px; height: 40px; border-radius: 8px; background: rgba(0,255,255,0.15); border: 1px solid rgba(0,255,255,0.4); display: flex; align-items: center; justify-content: center;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#00ffff" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
        </div>
        <div style="flex: 1; min-width: 0;"><div style="font-size: 13px; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Story: My First Week as a Salesman</div></div>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7v10"/></svg>
      </a>
      
    </div>
    
  </div>
</div>

<!-- === COMMUNITY === -->
<div style="padding: 2rem 1.5rem; background: #0d0221; border-top: 1px solid rgba(255,0,255,0.1);">
  <div style="max-width: 420px; margin: 0 auto;">
    
    <div style="display: flex; flex-direction: column; gap: 10px;">
      
      <a href="https://www.linkedin.com/newsletters/flowstate-it%25E2%2580%2599s-probably-ok-7332189682052554753/" target="_blank" style="display: flex; align-items: center; gap: 14px; padding: 16px 18px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 14px; text-decoration: none; color: #fff;">
        <div style="width: 48px; height: 48px; background: linear-gradient(135deg, rgba(255,0,255,0.2), rgba(0,255,255,0.2)); border: 1px solid rgba(255,0,255,0.4); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#ff00ff" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        </div>
        <div style="flex: 1;">
          <div style="font-family: 'Orbitron', sans-serif; font-size: 13px; font-weight: 600;">FLOWSTATE Newsletter</div>
          <div style="font-family: 'JetBrains Mono', monospace; font-size: 10px; color: rgba(255,255,255,0.5);">co-creator · #2 non-corporate water newsletter · parody</div>
        </div>
        <span style="font-family: 'JetBrains Mono', monospace; font-size: 10px; font-weight: 700; color: #ff00ff; background: rgba(255,0,255,0.15); padding: 4px 8px; border-radius: 6px;">3.9K+</span>
      </a>
      
      <a href="https://www.linkedin.com/groups/42677/" target="_blank" style="display: flex; align-items: center; gap: 14px; padding: 16px 18px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 14px; text-decoration: none; color: #fff;">
        <div style="width: 48px; height: 48px; background: rgba(0,255,255,0.1); border: 1px solid rgba(0,255,255,0.3); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#00ffff" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        </div>
        <div style="flex: 1;">
          <div style="font-family: 'Orbitron', sans-serif; font-size: 13px; font-weight: 600;">UCLA Alumni Network</div>
          <div style="font-family: 'JetBrains Mono', monospace; font-size: 10px; color: rgba(255,255,255,0.5);">founder · largest unaffiliated</div>
        </div>
        <span style="font-family: 'JetBrains Mono', monospace; font-size: 10px; font-weight: 700; color: #00ffff; background: rgba(0,255,255,0.15); padding: 4px 8px; border-radius: 6px;">8K+</span>
      </a>
      
    </div>
    
  </div>
</div>


<!-- === GAME LAUNCHER BUTTON === -->
<div style="padding: 2rem 1.5rem; background: linear-gradient(180deg, #0d0221, #1a0533); border-top: 1px solid rgba(255,0,255,0.15);">
  <div style="max-width: 420px; margin: 0 auto; text-align: center;">
    
    <div style="font-family: 'JetBrains Mono', monospace; font-size: 9px; letter-spacing: 0.25em; text-transform: uppercase; color: rgba(255,255,255,0.3); margin-bottom: 12px;">.:: arcade ::.</div>
    
    <style>
      @keyframes btnPulse {
        0%, 100% { box-shadow: 0 0 30px rgba(255,0,255,0.4), 0 8px 0 #880088, 0 0 0 0 rgba(255,0,255,0.4); }
        50% { box-shadow: 0 0 40px rgba(255,0,255,0.6), 0 8px 0 #880088, 0 0 0 8px rgba(255,0,255,0); }
      }
      @keyframes btnBounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-3px); }
      }
      #launchGameBtn:hover {
        transform: translateY(-2px);
        box-shadow: 0 0 50px rgba(255,0,255,0.7), 0 10px 0 #880088 !important;
      }
      #launchGameBtn:active {
        transform: translateY(4px);
        box-shadow: 0 0 30px rgba(255,0,255,0.5), 0 4px 0 #880088 !important;
      }
    </style>
    
    <button id="launchGameBtn" style="display: inline-flex; align-items: center; gap: 12px; padding: 18px 32px; background: linear-gradient(135deg, #ff00ff, #cc00cc); border: 2px solid #ff44ff; border-radius: 16px; color: #fff; font-family: 'Orbitron', sans-serif; font-size: 14px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; cursor: pointer; box-shadow: 0 0 30px rgba(255,0,255,0.4), 0 8px 0 #880088; transition: all 0.15s ease; animation: btnPulse 2s ease-in-out infinite, btnBounce 3s ease-in-out infinite;">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="6" width="20" height="12" rx="2"/><path d="M6 12h4M8 10v4"/><circle cx="17" cy="10" r="1" fill="currentColor"/><circle cx="17" cy="14" r="1" fill="currentColor"/></svg>
      Play PIPE PANIC
    </button>
    
    <div style="font-family: 'JetBrains Mono', monospace; font-size: 9px; color: rgba(255,255,255,0.25); margin-top: 10px;">connect the flow · race the clock · 3 levels</div>
    
  </div>
</div>

<!-- === FOOTER === -->
<div style="padding: 2.5rem 1.5rem 3rem; background: linear-gradient(180deg, #0d0221 0%, #05010d 100%); text-align: center; position: relative; overflow: hidden;">
  
  <div class="orb1" style="position: absolute; bottom: -40%; left: 50%; transform: translateX(-50%); width: 400px; height: 250px; background: radial-gradient(ellipse, rgba(255,0,255,0.2) 0%, transparent 70%); pointer-events: none;"></div>
  
  <div style="max-width: 420px; margin: 0 auto; position: relative; z-index: 1;">
    
    <div style="width: 60px; height: 2px; background: linear-gradient(90deg, #ff00ff, #00ffff); margin: 0 auto 1.5rem; border-radius: 2px;"></div>
    
    <a href="https://calendly.com/bsaw" target="_blank" class="glow-border" style="display: inline-flex; align-items: center; gap: 10px; padding: 16px 28px; background: linear-gradient(135deg, #ff00ff, #cc00cc); color: #fff; font-family: 'Orbitron', sans-serif; font-size: 12px; font-weight: 600; text-decoration: none; text-transform: uppercase; letter-spacing: 0.1em; border-radius: 12px; border: none;">
      book the call
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
    </a>
    
    <div style="margin-top: 2rem;">
      <div class="glitch" style="font-family: 'Orbitron', sans-serif; font-size: 0.875rem; font-weight: 800; letter-spacing: 0.1em; text-transform: uppercase; color: #ff00ff;">watermaxxing.com</div>
      <div style="font-family: 'JetBrains Mono', monospace; font-size: 9px; color: rgba(255,255,255,0.2); margin-top: 8px; letter-spacing: 0.15em;">iykyk</div>
    </div>
    
  </div>
</div>

</div>


<!-- ═══════════════════════════════════════════════════════════════════════════
     PIPE PANIC - ENHANCED WATER FLOW VERSION v2
═══════════════════════════════════════════════════════════════════════════ -->

<div id="gameOverlay" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,5,15,0.95); z-index: 1000; backdrop-filter: blur(10px);">
  
  <button id="closeGameBtn" style="position: absolute; top: 16px; right: 16px; width: 44px; height: 44px; background: rgba(255,0,255,0.2); border: 2px solid rgba(255,0,255,0.4); border-radius: 50%; color: #ff00ff; font-size: 24px; cursor: pointer; z-index: 1002;">×</button>
  
  <div id="gameConsole" style="position: absolute; bottom: 0; left: 0; right: 0; transform: translateY(100%); transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); z-index: 1001;">
    
    <div style="max-width: 420px; margin: 0 auto; background: linear-gradient(180deg, #151530 0%, #0a0a1a 100%); border-radius: 30px 30px 0 0; padding: 16px 16px 24px; border: 3px solid #3a3a6a; border-bottom: none; box-shadow: 0 -15px 80px rgba(0,255,255,0.2), 0 -5px 40px rgba(255,0,255,0.2), inset 0 1px 0 rgba(255,255,255,0.1);">
      
      <div style="text-align: center; margin-bottom: 10px; position: relative;">
        <div style="font-family: 'Orbitron', sans-serif; font-size: 16px; font-weight: 900; letter-spacing: 0.15em; color: #00ffff; text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff;">PIPE PANIC</div>
        <div style="font-family: 'JetBrains Mono', monospace; font-size: 8px; color: rgba(255,255,255,0.3); margin-top: 2px; letter-spacing: 0.3em;">WATER EDITION</div>
      </div>
      
      <div style="background: #000; border-radius: 16px; padding: 4px; border: 3px solid #2a2a5a; box-shadow: inset 0 0 50px rgba(0,0,0,0.9), 0 0 20px rgba(0,255,255,0.1);">
        
        <div id="gameScreen" style="position: relative; width: 100%; height: 340px; background: linear-gradient(180deg, #000510 0%, #001020 50%, #000815 100%); border-radius: 12px; overflow: hidden;">
          
          <canvas id="gameCanvas" width="388" height="340" style="display: block; width: 100%; height: 100%; position: relative; z-index: 10;"></canvas>
          
          <!-- Start Screen -->
          <div id="startScreen" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at center, rgba(0,30,60,0.98) 0%, rgba(0,10,30,0.99) 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 60; padding: 15px;">
            
            <svg width="70" height="70" viewBox="0 0 70 70" style="margin-bottom: 12px;">
              <defs>
                <linearGradient id="pipeGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" style="stop-color:#00ffff"/>
                  <stop offset="100%" style="stop-color:#ff00ff"/>
                </linearGradient>
              </defs>
              <circle cx="35" cy="35" r="30" fill="none" stroke="url(#pipeGrad)" stroke-width="5" opacity="0.3"/>
              <circle cx="35" cy="35" r="30" fill="none" stroke="url(#pipeGrad)" stroke-width="5" stroke-dasharray="50 140" stroke-linecap="round">
                <animateTransform attributeName="transform" type="rotate" from="0 35 35" to="360 35 35" dur="2s" repeatCount="indefinite"/>
              </circle>
              <path d="M35 12 C35 12 20 30 20 40 C20 50 27 55 35 55 C43 55 50 50 50 40 C50 30 35 12 35 12 Z" fill="#00ffff" opacity="0.8"/>
            </svg>
            
            <div style="font-family: 'Orbitron', sans-serif; font-size: 26px; font-weight: 900; color: #00ffff; text-shadow: 0 0 30px #00ffff; margin-bottom: 6px;">PIPE PANIC</div>
            
            <div style="width: 80px; height: 2px; background: linear-gradient(90deg, transparent, #00ffff, #ff00ff, transparent); margin-bottom: 12px;"></div>
            
            <div style="font-family: 'JetBrains Mono', monospace; font-size: 11px; color: rgba(255,255,255,0.7); text-align: center; line-height: 1.7; margin-bottom: 14px;">
              Connect <span style="color: #00ff88;">IN</span> → <span style="color: #ff00ff;">OUT</span> before overflow!
            </div>
            
            <div style="display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; justify-content: center;">
              <div style="text-align: center; padding: 6px 10px; background: rgba(0,255,255,0.1); border: 1px solid rgba(0,255,255,0.3); border-radius: 8px;">
                <div style="font-family: 'Orbitron', sans-serif; font-size: 11px; color: #00ffff; font-weight: bold;">A</div>
                <div style="font-family: 'JetBrains Mono', monospace; font-size: 8px; color: rgba(255,255,255,0.5);">Rotate ↻</div>
              </div>
              <div style="text-align: center; padding: 6px 10px; background: rgba(255,0,255,0.1); border: 1px solid rgba(255,0,255,0.3); border-radius: 8px;">
                <div style="font-family: 'Orbitron', sans-serif; font-size: 11px; color: #ff00ff; font-weight: bold;">B</div>
                <div style="font-family: 'JetBrains Mono', monospace; font-size: 8px; color: rgba(255,255,255,0.5);">Rotate ↺</div>
              </div>
              <div style="text-align: center; padding: 6px 10px; background: rgba(255,200,0,0.1); border: 1px solid rgba(255,200,0,0.3); border-radius: 8px;">
                <div style="font-family: 'Orbitron', sans-serif; font-size: 11px; color: #ffcc00; font-weight: bold;">HOLD B</div>
                <div style="font-family: 'JetBrains Mono', monospace; font-size: 8px; color: rgba(255,255,255,0.5);">Swap tiles</div>
              </div>
            </div>
            
            <div style="font-family: 'Orbitron', sans-serif; font-size: 14px; color: #ff00ff; text-shadow: 0 0 15px #ff00ff;">
              ▶ PRESS A TO START ◀
            </div>
          </div>
          
          <!-- Level Complete -->
          <div id="levelScreen" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at center, rgba(0,50,40,0.98) 0%, rgba(0,20,15,0.99) 100%); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 60;">
            <div id="levelCelebration" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none; overflow: hidden;"></div>
            <svg width="80" height="80" viewBox="0 0 80 80" style="margin-bottom: 8px; filter: drop-shadow(0 0 25px #00ff88);">
              <path d="M40 5 C40 5 15 35 15 50 C15 65 26 75 40 75 C54 75 65 65 65 50 C65 35 40 5 40 5 Z" fill="#00ffaa" stroke="#00ff88" stroke-width="3">
                <animate attributeName="d" dur="0.5s" values="M40 5 C40 5 15 35 15 50 C15 65 26 75 40 75 C54 75 65 65 65 50 C65 35 40 5 40 5 Z; M40 8 C40 8 18 35 18 48 C18 62 28 72 40 72 C52 72 62 62 62 48 C62 35 40 8 40 8 Z; M40 5 C40 5 15 35 15 50 C15 65 26 75 40 75 C54 75 65 65 65 50 C65 35 40 5 40 5 Z" repeatCount="indefinite"/>
              </path>
              <ellipse cx="30" cy="45" rx="8" ry="12" fill="rgba(255,255,255,0.4)"/>
              <path d="M30 60 L35 55 L40 62 L50 45" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <div style="font-family: 'Orbitron', sans-serif; font-size: 28px; font-weight: 800; color: #00ff88; text-shadow: 0 0 30px #00ff88; margin-bottom: 8px;">CONNECTED!</div>
            <div id="levelBonus" style="font-family: 'JetBrains Mono', monospace; font-size: 16px; color: #00ffff; margin-bottom: 6px;"></div>
            <div id="levelTotal" style="font-family: 'JetBrains Mono', monospace; font-size: 14px; color: #fff; margin-bottom: 12px;"></div>
            
            <!-- Barron appears -->
            <div style="display: flex; align-items: center; gap: 10px; background: rgba(0,0,0,0.4); padding: 10px 16px; border-radius: 12px; border: 1px solid rgba(0,255,255,0.3); margin-bottom: 12px;">
              <img src="https://ugc.production.linktr.ee/5dad016f-c443-42e7-8c23-c6d49785ae72_IMG-0940.jpeg" style="width: 36px; height: 36px; border-radius: 50%; border: 2px solid #00ffff; object-fit: cover;">
              <div>
                <div style="font-family: 'Orbitron', sans-serif; font-size: 10px; color: #00ffff;">BARRON SAYS:</div>
                <div style="font-family: 'JetBrains Mono', monospace; font-size: 9px; color: rgba(255,255,255,0.8);">"Nice flow! Keep it up!"</div>
              </div>
            </div>
            
            <div style="font-family: 'Orbitron', sans-serif; font-size: 13px; color: #ff00ff;">▶ PRESS A ◀</div>
          </div>
          
          <!-- Game Over -->
          <div id="gameOverScreen" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at center, rgba(50,0,20,0.98) 0%, rgba(20,0,10,0.99) 100%); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 60;">
            <svg width="80" height="80" viewBox="0 0 80 80" style="margin-bottom: 8px; filter: drop-shadow(0 0 20px #ff0055);">
              <path d="M5 45 Q20 30 35 45 T65 45 T95 45" fill="none" stroke="#ff0055" stroke-width="7" stroke-linecap="round">
                <animate attributeName="d" dur="0.8s" values="M5 45 Q20 30 35 45 T65 45; M5 45 Q20 55 35 45 T65 45; M5 45 Q20 30 35 45 T65 45" repeatCount="indefinite"/>
              </path>
              <path d="M5 55 Q20 42 35 55 T65 55 T95 55" fill="none" stroke="#ff3366" stroke-width="5" stroke-linecap="round"/>
              <path d="M5 63 Q20 52 35 63 T65 63" fill="none" stroke="#ff6688" stroke-width="4" stroke-linecap="round"/>
              <circle cx="25" cy="28" r="5" fill="#ff0055"><animate attributeName="cy" dur="1s" values="28;20;28" repeatCount="indefinite"/></circle>
              <circle cx="55" cy="22" r="4" fill="#ff3366"><animate attributeName="cy" dur="0.8s" values="22;15;22" repeatCount="indefinite"/></circle>
              <circle cx="40" cy="18" r="6" fill="#ff0055"><animate attributeName="cy" dur="1.2s" values="18;10;18" repeatCount="indefinite"/></circle>
            </svg>
            <div style="font-family: 'Orbitron', sans-serif; font-size: 28px; font-weight: 800; color: #ff0055; text-shadow: 0 0 30px #ff0055; margin-bottom: 8px;">OVERFLOW!</div>
            <div style="font-family: 'JetBrains Mono', monospace; font-size: 18px; color: #00ffff; margin-bottom: 6px;">SCORE: <span id="finalScore">0</span></div>
            <div id="highScoreText" style="font-family: 'JetBrains Mono', monospace; font-size: 11px; color: #00ff88; margin-bottom: 12px;"></div>
            
            <!-- Barron appears -->
            <div style="display: flex; align-items: center; gap: 10px; background: rgba(0,0,0,0.4); padding: 10px 16px; border-radius: 12px; border: 1px solid rgba(255,0,255,0.3); margin-bottom: 12px;">
              <img src="https://ugc.production.linktr.ee/5dad016f-c443-42e7-8c23-c6d49785ae72_IMG-0940.jpeg" style="width: 36px; height: 36px; border-radius: 50%; border: 2px solid #ff00ff; object-fit: cover;">
              <div>
                <div style="font-family: 'Orbitron', sans-serif; font-size: 10px; color: #ff00ff;">BARRON SAYS:</div>
                <div style="font-family: 'JetBrains Mono', monospace; font-size: 9px; color: rgba(255,255,255,0.8);">"Follow me on LinkedIn for tips!"</div>
              </div>
            </div>
            
            <div style="display: flex; gap: 8px; margin-bottom: 12px;">
              <a href="https://www.linkedin.com/in/sawyerlaw/" target="_blank" style="display: inline-flex; align-items: center; gap: 6px; padding: 8px 12px; background: rgba(0,119,181,0.3); border: 1px solid #0077b5; border-radius: 8px; color: #fff; text-decoration: none; font-family: 'JetBrains Mono', monospace; font-size: 9px;">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="#0077b5"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg>
                Follow
              </a>
              <button onclick="shareGame()" style="display: inline-flex; align-items: center; gap: 6px; padding: 8px 12px; background: rgba(0,255,136,0.2); border: 1px solid #00ff88; border-radius: 8px; color: #fff; font-family: 'JetBrains Mono', monospace; font-size: 9px; cursor: pointer;">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#00ff88" stroke-width="2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><path d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"/></svg>
                Share Game
              </button>
            </div>
            
            <div style="font-family: 'Orbitron', sans-serif; font-size: 13px; color: rgba(255,255,255,0.6);">▶ PRESS A TO RESTART ◀</div>
          </div>
          
          <!-- Victory -->
          <div id="victoryScreen" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(ellipse at center, rgba(0,50,50,0.98) 0%, rgba(0,20,30,0.99) 100%); display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 60;">
            <div id="victoryCelebration" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none; overflow: hidden;"></div>
            <svg width="80" height="80" viewBox="0 0 80 80" style="margin-bottom: 8px; filter: drop-shadow(0 0 25px #ffcc00);">
              <path d="M25 18 L25 40 Q25 55 40 60 Q55 55 55 40 L55 18 Z" fill="#ffcc00" stroke="#ffaa00" stroke-width="3">
                <animate attributeName="d" dur="0.6s" values="M25 18 L25 40 Q25 55 40 60 Q55 55 55 40 L55 18 Z; M23 16 L23 42 Q23 57 40 62 Q57 57 57 42 L57 16 Z; M25 18 L25 40 Q25 55 40 60 Q55 55 55 40 L55 18 Z" repeatCount="indefinite"/>
              </path>
              <path d="M18 18 L12 18 Q6 18 6 30 Q6 42 18 42 L25 42" fill="none" stroke="#ffcc00" stroke-width="5"/>
              <path d="M62 18 L68 18 Q74 18 74 30 Q74 42 62 42 L55 42" fill="none" stroke="#ffcc00" stroke-width="5"/>
              <rect x="32" y="60" width="16" height="8" fill="#ffaa00"/>
              <rect x="26" y="68" width="28" height="6" rx="2" fill="#ffcc00"/>
              <text x="40" y="45" text-anchor="middle" fill="#fff" font-family="Arial" font-size="18" font-weight="bold">1</text>
            </svg>
            <div style="font-family: 'Orbitron', sans-serif; font-size: 24px; font-weight: 800; color: #00ff88; text-shadow: 0 0 30px #00ff88; margin-bottom: 6px;">MASTER OPERATOR!</div>
            <div style="font-family: 'JetBrains Mono', monospace; font-size: 14px; color: #00ffff; margin-bottom: 4px;">ALL LEVELS COMPLETE!</div>
            <div style="font-family: 'JetBrains Mono', monospace; font-size: 20px; color: #ff00ff; margin-bottom: 12px;">SCORE: <span id="victoryScore">0</span></div>
            
            <!-- Barron appears -->
            <div style="display: flex; align-items: center; gap: 10px; background: rgba(0,0,0,0.4); padding: 10px 16px; border-radius: 12px; border: 1px solid rgba(0,255,136,0.4); margin-bottom: 12px;">
              <img src="https://ugc.production.linktr.ee/5dad016f-c443-42e7-8c23-c6d49785ae72_IMG-0940.jpeg" style="width: 36px; height: 36px; border-radius: 50%; border: 2px solid #00ff88; object-fit: cover;">
              <div>
                <div style="font-family: 'Orbitron', sans-serif; font-size: 10px; color: #00ff88;">BARRON SAYS:</div>
                <div style="font-family: 'JetBrains Mono', monospace; font-size: 9px; color: rgba(255,255,255,0.8);">"You're a natural! Let's connect!"</div>
              </div>
            </div>
            
            <div style="display: flex; gap: 8px; margin-bottom: 12px;">
              <a href="https://www.linkedin.com/in/sawyerlaw/" target="_blank" style="display: inline-flex; align-items: center; gap: 6px; padding: 8px 12px; background: rgba(0,119,181,0.3); border: 1px solid #0077b5; border-radius: 8px; color: #fff; text-decoration: none; font-family: 'JetBrains Mono', monospace; font-size: 9px;">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="#0077b5"><path d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"/></svg>
                Follow
              </a>
              <button onclick="shareGame()" style="display: inline-flex; align-items: center; gap: 6px; padding: 8px 12px; background: rgba(0,255,136,0.2); border: 1px solid #00ff88; border-radius: 8px; color: #fff; font-family: 'JetBrains Mono', monospace; font-size: 9px; cursor: pointer;">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#00ff88" stroke-width="2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><path d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"/></svg>
                Share Game
              </button>
            </div>
            
            <div style="font-family: 'Orbitron', sans-serif; font-size: 12px; color: rgba(255,255,255,0.6);">▶ PRESS A TO PLAY AGAIN ◀</div>
          </div>
          
        </div>
      </div>
      
      <!-- Controls -->
      <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 14px; padding: 0 8px;">
        
        <div style="position: relative; width: 94px; height: 94px;">
          <button id="btnUp" style="position: absolute; left: 50%; top: 0; transform: translateX(-50%); width: 32px; height: 32px; background: linear-gradient(180deg, #5a5a8a, #3a3a6a); border: 3px solid #6a6a9a; border-radius: 50%; color: #00ffff; font-size: 12px; cursor: pointer; box-shadow: 0 4px 0 #2a2a4a, 0 0 10px rgba(0,255,255,0.2), inset 0 2px 0 rgba(255,255,255,0.2); transition: all 0.1s;">▲</button>
          <button id="btnDown" style="position: absolute; left: 50%; bottom: 0; transform: translateX(-50%); width: 32px; height: 32px; background: linear-gradient(180deg, #5a5a8a, #3a3a6a); border: 3px solid #6a6a9a; border-radius: 50%; color: #00ffff; font-size: 12px; cursor: pointer; box-shadow: 0 4px 0 #2a2a4a, 0 0 10px rgba(0,255,255,0.2), inset 0 2px 0 rgba(255,255,255,0.2); transition: all 0.1s;">▼</button>
          <button id="btnLeft" style="position: absolute; left: 0; top: 50%; transform: translateY(-50%); width: 32px; height: 32px; background: linear-gradient(180deg, #5a5a8a, #3a3a6a); border: 3px solid #6a6a9a; border-radius: 50%; color: #00ffff; font-size: 12px; cursor: pointer; box-shadow: 0 4px 0 #2a2a4a, 0 0 10px rgba(0,255,255,0.2), inset 0 2px 0 rgba(255,255,255,0.2); transition: all 0.1s;">◀</button>
          <button id="btnRight" style="position: absolute; right: 0; top: 50%; transform: translateY(-50%); width: 32px; height: 32px; background: linear-gradient(180deg, #5a5a8a, #3a3a6a); border: 3px solid #6a6a9a; border-radius: 50%; color: #00ffff; font-size: 12px; cursor: pointer; box-shadow: 0 4px 0 #2a2a4a, 0 0 10px rgba(0,255,255,0.2), inset 0 2px 0 rgba(255,255,255,0.2); transition: all 0.1s;">▶</button>
          <div style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 22px; height: 22px; background: radial-gradient(circle, #3a3a6a, #2a2a4a); border-radius: 50%; border: 2px solid #4a4a7a; box-shadow: inset 0 2px 4px rgba(0,0,0,0.5);"></div>
        </div>
        
        <div style="text-align: center;">
          <div style="font-family: 'JetBrains Mono', monospace; font-size: 6px; color: rgba(255,255,255,0.15); letter-spacing: 0.2em;">WATERMAXXING</div>
        </div>
        
        <div style="display: flex; gap: 12px;">
          <div style="text-align: center;">
            <button id="btnB" style="width: 44px; height: 44px; background: linear-gradient(180deg, #ff00ff, #cc00cc); border: 3px solid #ff66ff; border-radius: 50%; color: #fff; font-family: 'Orbitron', sans-serif; font-size: 16px; font-weight: 800; cursor: pointer; box-shadow: 0 5px 0 #880088, 0 0 25px rgba(255,0,255,0.5);">B</button>
            <div style="font-family: 'JetBrains Mono', monospace; font-size: 8px; color: #ff00ff; margin-top: 4px;">↺</div>
          </div>
          <div style="text-align: center;">
            <button id="btnA" style="width: 44px; height: 44px; background: linear-gradient(180deg, #00ffff, #00cccc); border: 3px solid #66ffff; border-radius: 50%; color: #003333; font-family: 'Orbitron', sans-serif; font-size: 16px; font-weight: 800; cursor: pointer; box-shadow: 0 5px 0 #008888, 0 0 25px rgba(0,255,255,0.5);">A</button>
            <div style="font-family: 'JetBrains Mono', monospace; font-size: 8px; color: #00ffff; margin-top: 4px;">↻</div>
          </div>
        </div>
        
      </div>
      
    </div>
  </div>
</div>

<script>
// Share game function (outside IIFE so onclick can access it)
let currentGameScore = 0; // Will be set by game

function shareGame() {
  const shareText = `🕹️ Just played Pipe Panic on Barron's business card - a retro puzzle game! Can you beat my score: ${currentGameScore}? 💧`;
  const shareUrl = "https://watermaxxing.com";
  
  // Try native share first (mobile)
  if (navigator.share) {
    navigator.share({
      title: 'PIPE PANIC',
      text: shareText,
      url: shareUrl
    }).catch(() => {
      // Fallback to SMS
      window.open(`sms:?body=${encodeURIComponent(shareText + ' ' + shareUrl)}`);
    });
  } else {
    // Desktop fallback - open SMS link or copy to clipboard
    const fullText = shareText + ' ' + shareUrl;
    if (navigator.clipboard) {
      navigator.clipboard.writeText(fullText).then(() => {
        alert('Link copied! Share it with your friends.');
      });
    } else {
      window.open(`sms:?body=${encodeURIComponent(fullText)}`);
    }
  }
}
</script>

<script>
(function() {
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;
  
  const overlay = document.getElementById('gameOverlay');
  const consoleEl = document.getElementById('gameConsole');
  
  const screens = {
    start: document.getElementById('startScreen'),
    level: document.getElementById('levelScreen'),
    over: document.getElementById('gameOverScreen'),
    victory: document.getElementById('victoryScreen')
  };
  
  // Game state
  let state = 'menu';
  let level = 1;
  let score = 0;
  let highScore = 0;
  let grid = [];
  let solutionGrid = []; // Store the solution
  let cols = 3, rows = 3;
  let cursorX = 0, cursorY = 0;
  let sourceY = 1, drainY = 1;
  let flowPath = [];
  let animTime = 0;
  let particles = [];
  let waterProgress = 0; // 0-100%, how far water has flowed
  let waterSpeed = 2; // % per frame
  let waterStartDelay = 3; // seconds before water starts
  let gameStartTime = 0;
  let swapMode = false;
  let swapStartX = -1, swapStartY = -1;
  let btnADown = false, btnBDown = false;
  let celebrationParticles = [];
  
  const levels = [
    { cols: 3, rows: 3, waterDelay: 5, waterSpeed: 0.15 },
    { cols: 4, rows: 3, waterDelay: 5, waterSpeed: 0.18 },
    { cols: 4, rows: 4, waterDelay: 5, waterSpeed: 0.20 }
  ];
  
  const CELL = 58;
  const PIPE_W = 16;
  
  function showGame() {
    overlay.style.display = 'block';
    setTimeout(() => consoleEl.style.transform = 'translateY(0)', 20);
    lastTime = performance.now();
    requestAnimationFrame(gameLoop);
  }
  
  function hideGame() {
    consoleEl.style.transform = 'translateY(100%)';
    setTimeout(() => overlay.style.display = 'none', 400);
  }
  
  document.getElementById('launchGameBtn').onclick = showGame;
  document.getElementById('closeGameBtn').onclick = hideGame;
  overlay.onclick = e => { if (e.target === overlay) hideGame(); };
  
  function rotateCW(c) { return [c[3], c[0], c[1], c[2]]; }
  function rotateCCW(c) { return [c[1], c[2], c[3], c[0]]; }
  
  function generateLevel() {
    const cfg = levels[level - 1];
    cols = cfg.cols;
    rows = cfg.rows;
    waterStartDelay = cfg.waterDelay;
    waterSpeed = cfg.waterSpeed;
    waterProgress = 0;
    particles = [];
    celebrationParticles = [];
    gameStartTime = performance.now();
    
    // Generate source and drain positions
    sourceY = Math.floor(Math.random() * rows);
    drainY = Math.floor(Math.random() * rows);
    
    // GENERATE A GUARANTEED SOLVABLE PUZZLE
    // First, create the solution grid
    solutionGrid = [];
    for (let y = 0; y < rows; y++) {
      solutionGrid[y] = [];
      for (let x = 0; x < cols; x++) {
        solutionGrid[y][x] = { c: [0,0,0,0] };
      }
    }
    
    // Build path from source to drain
    let x = 0, y = sourceY;
    let path = [{x, y}];
    
    while (x < cols - 1 || y !== drainY) {
      let nextX = x, nextY = y;
      
      // Decide next move
      if (x < cols - 1) {
        if (y < drainY && Math.random() < 0.4) {
          nextY = y + 1; // go down
        } else if (y > drainY && Math.random() < 0.4) {
          nextY = y - 1; // go up
        } else {
          nextX = x + 1; // go right
        }
      } else {
        // Must reach drain row
        if (y < drainY) nextY = y + 1;
        else if (y > drainY) nextY = y - 1;
      }
      
      // Set connections
      if (nextX > x) { // going right
        solutionGrid[y][x].c[1] = 1;
        solutionGrid[nextY][nextX].c[3] = 1;
      } else if (nextY > y) { // going down
        solutionGrid[y][x].c[2] = 1;
        solutionGrid[nextY][nextX].c[0] = 1;
      } else if (nextY < y) { // going up
        solutionGrid[y][x].c[0] = 1;
        solutionGrid[nextY][nextX].c[2] = 1;
      }
      
      x = nextX;
      y = nextY;
      path.push({x, y});
    }
    
    // Add source and drain connections
    solutionGrid[sourceY][0].c[3] = 1; // connect to source
    solutionGrid[drainY][cols-1].c[1] = 1; // connect to drain
    
    // Create playable grid by scrambling the solution
    grid = [];
    for (let gy = 0; gy < rows; gy++) {
      grid[gy] = [];
      for (let gx = 0; gx < cols; gx++) {
        let c = [...solutionGrid[gy][gx].c];
        
        // Scramble with random rotations (1-3)
        const rots = 1 + Math.floor(Math.random() * 3);
        for (let r = 0; r < rots; r++) {
          c = rotateCW(c);
        }
        
        grid[gy][gx] = { c };
      }
    }
    
    cursorX = 0;
    cursorY = sourceY;
    swapMode = false;
    swapStartX = -1;
    swapStartY = -1;
    
    checkFlow();
  }
  
  function checkFlow() {
    flowPath = [];
    let x = 0, y = sourceY, fromDir = 3;
    const visited = new Set();
    
    while (x >= 0 && x < cols && y >= 0 && y < rows) {
      const key = `${x},${y}`;
      if (visited.has(key)) break;
      visited.add(key);
      
      const cell = grid[y][x];
      if (cell.c[fromDir] !== 1) break;
      
      flowPath.push({x, y});
      
      let exitDir = -1;
      for (let d = 0; d < 4; d++) {
        if (d !== fromDir && cell.c[d] === 1) { exitDir = d; break; }
      }
      if (exitDir === -1) break;
      
      if (x === cols - 1 && y === drainY && exitDir === 1) {
        flowPath.push({x: cols, y: drainY}); // Mark complete
        return true;
      }
      
      const moves = [{dx:0,dy:-1,e:2}, {dx:1,dy:0,e:3}, {dx:0,dy:1,e:0}, {dx:-1,dy:0,e:1}];
      x += moves[exitDir].dx;
      y += moves[exitDir].dy;
      fromDir = moves[exitDir].e;
    }
    return false;
  }
  
  function rotateTile(clockwise) {
    if (state !== 'playing') return;
    if (swapMode) return; // Can't rotate in swap mode
    
    const cell = grid[cursorY][cursorX];
    cell.c = clockwise ? rotateCW(cell.c) : rotateCCW(cell.c);
    
    // Particles
    const offset = getGridOffset();
    const cx = offset.x + cursorX * (CELL + 4) + CELL/2;
    const cy = offset.y + cursorY * (CELL + 4) + CELL/2;
    for (let i = 0; i < 4; i++) {
      particles.push({
        x: cx, y: cy,
        vx: (Math.random() - 0.5) * 5,
        vy: (Math.random() - 0.5) * 5,
        life: 15,
        color: clockwise ? '#00ffff' : '#ff00ff',
        size: 2 + Math.random() * 3
      });
    }
    
    if (checkFlow()) {
      setTimeout(levelComplete, 200);
    }
  }
  
  function startSwap() {
    if (state !== 'playing') return;
    swapMode = true;
    swapStartX = cursorX;
    swapStartY = cursorY;
  }
  
  function executeSwap() {
    if (!swapMode || swapStartX === -1) return;
    
    // Swap the two tiles
    if (swapStartX !== cursorX || swapStartY !== cursorY) {
      const temp = {...grid[swapStartY][swapStartX]};
      grid[swapStartY][swapStartX] = {...grid[cursorY][cursorX]};
      grid[cursorY][cursorX] = temp;
      
      // Swap particles
      const offset = getGridOffset();
      for (let i = 0; i < 8; i++) {
        const cx1 = offset.x + swapStartX * (CELL + 4) + CELL/2;
        const cy1 = offset.y + swapStartY * (CELL + 4) + CELL/2;
        const cx2 = offset.x + cursorX * (CELL + 4) + CELL/2;
        const cy2 = offset.y + cursorY * (CELL + 4) + CELL/2;
        particles.push({
          x: cx1, y: cy1, vx: (cx2-cx1)/10, vy: (cy2-cy1)/10,
          life: 10, color: '#ffcc00', size: 4
        });
      }
      
      if (checkFlow()) {
        setTimeout(levelComplete, 200);
      }
    }
    
    swapMode = false;
    swapStartX = -1;
    swapStartY = -1;
  }
  
  function cancelSwap() {
    swapMode = false;
    swapStartX = -1;
    swapStartY = -1;
  }
  
  function moveCursor(dx, dy) {
    if (state !== 'playing') return;
    cursorX = Math.max(0, Math.min(cols - 1, cursorX + dx));
    cursorY = Math.max(0, Math.min(rows - 1, cursorY + dy));
  }
  
  function getGridOffset() {
    const gw = cols * CELL + (cols - 1) * 4;
    const gh = rows * CELL + (rows - 1) * 4;
    return {
      x: (W - gw) / 2,
      y: 50 + (H - 60 - gh) / 2
    };
  }
  
  function drawPipe(cx, cy, cell, inFlow, flowAmount) {
    const c = cell.c;
    
    ctx.save();
    ctx.translate(cx, cy);
    
    const baseColor = inFlow ? '#00ddff' : '#335577';
    
    if (inFlow && flowAmount > 0) {
      ctx.shadowColor = '#00ffff';
      ctx.shadowBlur = 12;
    }
    
    ctx.strokeStyle = baseColor;
    ctx.lineWidth = PIPE_W;
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';
    
    ctx.beginPath();
    if (c[0]) { ctx.moveTo(0, 0); ctx.lineTo(0, -CELL/2); }
    if (c[1]) { ctx.moveTo(0, 0); ctx.lineTo(CELL/2, 0); }
    if (c[2]) { ctx.moveTo(0, 0); ctx.lineTo(0, CELL/2); }
    if (c[3]) { ctx.moveTo(0, 0); ctx.lineTo(-CELL/2, 0); }
    ctx.stroke();
    
    ctx.fillStyle = baseColor;
    ctx.beginPath();
    ctx.arc(0, 0, PIPE_W/2, 0, Math.PI * 2);
    ctx.fill();
    
    // Water flow animation
    if (inFlow && flowAmount > 0) {
      ctx.strokeStyle = `rgba(100,255,255,${0.5 + Math.sin(animTime * 6) * 0.3})`;
      ctx.lineWidth = 6;
      ctx.setLineDash([6, 10]);
      ctx.lineDashOffset = -animTime * 100;
      ctx.beginPath();
      if (c[0]) { ctx.moveTo(0, 0); ctx.lineTo(0, -CELL/2); }
      if (c[1]) { ctx.moveTo(0, 0); ctx.lineTo(CELL/2, 0); }
      if (c[2]) { ctx.moveTo(0, 0); ctx.lineTo(0, CELL/2); }
      if (c[3]) { ctx.moveTo(0, 0); ctx.lineTo(-CELL/2, 0); }
      ctx.stroke();
      ctx.setLineDash([]);
    }
    
    ctx.restore();
  }
  
  let lastTime = 0;
  
  function gameLoop(time) {
    if (overlay.style.display === 'none') return;
    
    const dt = Math.min((time - lastTime) / 1000, 0.1);
    lastTime = time;
    animTime += dt;
    
    if (state === 'playing') {
      const elapsed = (time - gameStartTime) / 1000;
      
      // Water starts flowing after delay
      if (elapsed > waterStartDelay) {
        waterProgress += waterSpeed * dt * 100 / (flowPath.length || 1);
        
        // Check if water hit a dead end (not complete)
        const isComplete = flowPath.length > 0 && flowPath[flowPath.length-1].x === cols;
        
        if (waterProgress >= 100 && !isComplete) {
          gameOver();
          return;
        }
      }
    }
    
    // Update particles
    particles = particles.filter(p => {
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.15;
      p.life--;
      return p.life > 0;
    });
    
    draw();
    requestAnimationFrame(gameLoop);
  }
  
  function draw() {
    // Background
    const grad = ctx.createLinearGradient(0, 0, 0, H);
    grad.addColorStop(0, '#000a18');
    grad.addColorStop(0.5, '#001228');
    grad.addColorStop(1, '#000815');
    ctx.fillStyle = grad;
    ctx.fillRect(0, 0, W, H);
    
    // Grid lines
    ctx.strokeStyle = 'rgba(0,150,200,0.04)';
    ctx.lineWidth = 1;
    for (let i = 0; i <= W; i += 25) {
      ctx.beginPath(); ctx.moveTo(i, 0); ctx.lineTo(i, H); ctx.stroke();
    }
    for (let i = 0; i <= H; i += 25) {
      ctx.beginPath(); ctx.moveTo(0, i); ctx.lineTo(W, i); ctx.stroke();
    }
    
    if (state === 'menu') return;
    
    // HUD
    ctx.font = 'bold 15px Orbitron';
    ctx.fillStyle = '#00ffff';
    ctx.textAlign = 'left';
    ctx.fillText('LEVEL ' + level, 12, 26);
    
    ctx.fillStyle = '#fff';
    ctx.textAlign = 'right';
    ctx.fillText(score, W - 12, 26);
    
    // Water progress bar (the timer)
    const elapsed = (performance.now() - gameStartTime) / 1000;
    const barW = 140;
    const barX = (W - barW) / 2;
    
    ctx.fillStyle = 'rgba(0,0,0,0.5)';
    ctx.fillRect(barX - 2, 8, barW + 4, 20);
    
    if (elapsed < waterStartDelay) {
      // Countdown before water
      const countdown = Math.ceil(waterStartDelay - elapsed);
      ctx.fillStyle = '#00ff88';
      ctx.fillRect(barX, 10, barW, 16);
      ctx.fillStyle = '#003322';
      ctx.font = 'bold 11px Orbitron';
      ctx.textAlign = 'center';
      ctx.fillText('WATER IN ' + countdown + 's', W/2, 22);
    } else {
      // Water flowing
      const pct = Math.min(waterProgress / 100, 1);
      const barColor = pct < 0.5 ? '#00ffff' : pct < 0.75 ? '#ffaa00' : '#ff0044';
      ctx.fillStyle = barColor;
      ctx.fillRect(barX, 10, barW * pct, 16);
      ctx.strokeStyle = barColor;
      ctx.lineWidth = 2;
      ctx.strokeRect(barX - 2, 8, barW + 4, 20);
    }
    
    const offset = getGridOffset();
    
    // Source pipe
    const srcY = offset.y + sourceY * (CELL + 4) + CELL/2;
    ctx.fillStyle = '#00ff88';
    ctx.shadowColor = '#00ff88';
    ctx.shadowBlur = 12;
    ctx.beginPath();
    ctx.moveTo(offset.x - 22, srcY);
    ctx.lineTo(offset.x - 6, srcY - 10);
    ctx.lineTo(offset.x - 6, srcY + 10);
    ctx.closePath();
    ctx.fill();
    ctx.shadowBlur = 0;
    
    ctx.strokeStyle = '#00ff88';
    ctx.lineWidth = PIPE_W;
    ctx.lineCap = 'round';
    ctx.beginPath();
    ctx.moveTo(offset.x - 30, srcY);
    ctx.lineTo(offset.x - 4, srcY);
    ctx.stroke();
    
    ctx.font = 'bold 9px Orbitron';
    ctx.fillStyle = '#00ff88';
    ctx.textAlign = 'right';
    ctx.fillText('IN', offset.x - 34, srcY + 3);
    
    // Drain pipe
    const drnY = offset.y + drainY * (CELL + 4) + CELL/2;
    const gridRight = offset.x + cols * (CELL + 4) - 4;
    
    ctx.fillStyle = '#ff00ff';
    ctx.shadowColor = '#ff00ff';
    ctx.shadowBlur = 12;
    ctx.beginPath();
    ctx.moveTo(gridRight + 22, drnY);
    ctx.lineTo(gridRight + 6, drnY - 10);
    ctx.lineTo(gridRight + 6, drnY + 10);
    ctx.closePath();
    ctx.fill();
    ctx.shadowBlur = 0;
    
    ctx.strokeStyle = '#ff00ff';
    ctx.lineWidth = PIPE_W;
    ctx.beginPath();
    ctx.moveTo(gridRight + 4, drnY);
    ctx.lineTo(gridRight + 30, drnY);
    ctx.stroke();
    
    ctx.fillStyle = '#ff00ff';
    ctx.textAlign = 'left';
    ctx.fillText('OUT', gridRight + 34, drnY + 3);
    
    // Draw grid cells
    for (let y = 0; y < rows; y++) {
      for (let x = 0; x < cols; x++) {
        const cell = grid[y][x];
        const cx = offset.x + x * (CELL + 4) + CELL/2;
        const cy = offset.y + y * (CELL + 4) + CELL/2;
        
        const flowIdx = flowPath.findIndex(f => f.x === x && f.y === y);
        const inFlow = flowIdx !== -1;
        const flowAmount = inFlow ? Math.max(0, Math.min(1, (waterProgress - flowIdx * (100/flowPath.length)) / (100/flowPath.length))) : 0;
        
        const isSelected = x === cursorX && y === cursorY;
        const isSwapStart = swapMode && x === swapStartX && y === swapStartY;
        
        // Cell background
        let bgColor = 'rgba(0,40,70,0.5)';
        if (inFlow && flowAmount > 0) bgColor = 'rgba(0,80,100,0.5)';
        if (isSwapStart) bgColor = 'rgba(255,200,0,0.3)';
        if (isSelected) bgColor = swapMode ? 'rgba(255,200,0,0.4)' : 'rgba(150,0,150,0.4)';
        
        ctx.fillStyle = bgColor;
        ctx.beginPath();
        ctx.roundRect(cx - CELL/2, cy - CELL/2, CELL, CELL, 6);
        ctx.fill();
        
        // Selection border
        if (isSelected || isSwapStart) {
          ctx.strokeStyle = swapMode ? '#ffcc00' : '#ff00ff';
          ctx.lineWidth = 3;
          ctx.shadowColor = swapMode ? '#ffcc00' : '#ff00ff';
          ctx.shadowBlur = 15;
          ctx.stroke();
          ctx.shadowBlur = 0;
        } else {
          ctx.strokeStyle = inFlow ? 'rgba(0,255,255,0.25)' : 'rgba(100,150,200,0.15)';
          ctx.lineWidth = 1;
          ctx.stroke();
        }
        
        drawPipe(cx, cy, cell, inFlow, flowAmount);
      }
    }
    
    // Swap mode indicator
    if (swapMode) {
      ctx.font = 'bold 10px Orbitron';
      ctx.fillStyle = '#ffcc00';
      ctx.textAlign = 'center';
      ctx.fillText('SWAP: Move cursor, press A to swap', W/2, H - 15);
    }
    
    // Particles
    for (const p of particles) {
      ctx.fillStyle = p.color;
      ctx.globalAlpha = p.life / 15;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
      ctx.fill();
    }
    ctx.globalAlpha = 1;
  }
  
  function createCelebration(container) {
    container.innerHTML = '';
    for (let i = 0; i < 30; i++) {
      const particle = document.createElement('div');
      const colors = ['#00ffff', '#ff00ff', '#00ff88', '#ffcc00', '#ff6688'];
      particle.style.cssText = `
        position: absolute;
        width: ${4 + Math.random() * 8}px;
        height: ${4 + Math.random() * 8}px;
        background: ${colors[Math.floor(Math.random() * colors.length)]};
        border-radius: 50%;
        left: ${Math.random() * 100}%;
        top: 100%;
        animation: celebrate ${1 + Math.random()}s ease-out forwards;
        animation-delay: ${Math.random() * 0.3}s;
      `;
      container.appendChild(particle);
    }
    
    // Add CSS animation if not exists
    if (!document.getElementById('celebrateStyle')) {
      const style = document.createElement('style');
      style.id = 'celebrateStyle';
      style.textContent = `
        @keyframes celebrate {
          0% { transform: translateY(0) rotate(0deg); opacity: 1; }
          100% { transform: translateY(-300px) rotate(720deg); opacity: 0; }
        }
      `;
      document.head.appendChild(style);
    }
  }
  
  function hideScreens() {
    Object.values(screens).forEach(s => s.style.display = 'none');
  }
  
  function startGame() {
    level = 1;
    score = 0;
    state = 'playing';
    hideScreens();
    generateLevel();
  }
  
  function levelComplete() {
    state = 'levelComplete';
    
    const timeBonus = Math.max(0, Math.floor((100 - waterProgress) * 10));
    const levelBonus = level * 200;
    const total = timeBonus + levelBonus;
    score += total;
    
    document.getElementById('levelBonus').textContent = `SPEED +${timeBonus}  •  LEVEL +${levelBonus}`;
    document.getElementById('levelTotal').textContent = `TOTAL: ${score}`;
    
    // Create celebration
    createCelebration(document.getElementById('levelCelebration'));
    
    screens.level.style.display = 'flex';
  }
  
  function nextLevel() {
    level++;
    if (level > 3) {
      victory();
      return;
    }
    state = 'playing';
    hideScreens();
    generateLevel();
  }
  
  function gameOver() {
    state = 'gameOver';
    currentGameScore = score; // For share function
    document.getElementById('finalScore').textContent = score;
    document.getElementById('highScoreText').textContent = score > highScore ? '★ NEW HIGH SCORE! ★' : `BEST: ${highScore}`;
    if (score > highScore) highScore = score;
    screens.over.style.display = 'flex';
  }
  
  function victory() {
    state = 'victory';
    currentGameScore = score; // For share function
    document.getElementById('victoryScore').textContent = score;
    if (score > highScore) highScore = score;
    createCelebration(document.getElementById('victoryCelebration'));
    screens.victory.style.display = 'flex';
  }
  
  function handleA() {
    if (state === 'menu' || state === 'gameOver' || state === 'victory') startGame();
    else if (state === 'levelComplete') nextLevel();
    else if (state === 'playing') {
      if (swapMode) {
        // In swap mode, A confirms the swap
        executeSwap();
      } else {
        rotateTile(true);
      }
    }
  }
  
  function handleB() {
    if (state === 'playing') {
      if (swapMode) {
        // Already in swap mode - cancel it
        cancelSwap();
      } else {
        rotateTile(false);
      }
    } else {
      handleA();
    }
  }
  
  function handleBHold() {
    // Long press B enters swap mode
    if (state === 'playing' && !swapMode) {
      startSwap();
    }
  }
  
  // Button bindings
  const btnA = document.getElementById('btnA');
  const btnB = document.getElementById('btnB');
  
  let bHoldTimer = null;
  
  btnA.addEventListener('click', handleA);
  btnA.addEventListener('touchstart', e => e.preventDefault());
  btnA.addEventListener('touchend', e => { e.preventDefault(); handleA(); });
  
  btnB.addEventListener('mousedown', () => {
    bHoldTimer = setTimeout(handleBHold, 400); // Hold for 400ms to swap
  });
  btnB.addEventListener('mouseup', () => {
    if (bHoldTimer) { clearTimeout(bHoldTimer); bHoldTimer = null; }
    if (!swapMode) handleB(); // Only rotate if we didn't enter swap mode
  });
  btnB.addEventListener('touchstart', e => {
    e.preventDefault();
    bHoldTimer = setTimeout(handleBHold, 400);
  });
  btnB.addEventListener('touchend', e => {
    e.preventDefault();
    if (bHoldTimer) { clearTimeout(bHoldTimer); bHoldTimer = null; }
    if (!swapMode) handleB();
  });
  
  document.getElementById('btnUp').onclick = () => moveCursor(0, -1);
  document.getElementById('btnDown').onclick = () => moveCursor(0, 1);
  document.getElementById('btnLeft').onclick = () => moveCursor(-1, 0);
  document.getElementById('btnRight').onclick = () => moveCursor(1, 0);
  
  ['btnUp','btnDown','btnLeft','btnRight'].forEach(id => {
    document.getElementById(id).addEventListener('touchstart', e => { e.preventDefault(); document.getElementById(id).click(); });
  });
  
  // Keyboard
  let xHoldTimer = null;
  
  document.addEventListener('keydown', e => {
    if (overlay.style.display === 'none') return;
    if (e.repeat) return; // Ignore key repeat
    
    switch(e.key) {
      case 'ArrowUp': case 'w': moveCursor(0, -1); break;
      case 'ArrowDown': case 's': moveCursor(0, 1); break;
      case 'ArrowLeft': case 'a': moveCursor(-1, 0); break;
      case 'ArrowRight': case 'd': moveCursor(1, 0); break;
      case ' ': case 'z': e.preventDefault(); handleA(); break;
      case 'x': 
        e.preventDefault();
        xHoldTimer = setTimeout(handleBHold, 400);
        break;
      case 'Escape': hideGame(); break;
    }
  });
  
  document.addEventListener('keyup', e => {
    if (e.key === 'x') {
      if (xHoldTimer) { clearTimeout(xHoldTimer); xHoldTimer = null; }
      if (!swapMode) handleB();
    }
  });
})();
</script>

  
</body>
</html>
